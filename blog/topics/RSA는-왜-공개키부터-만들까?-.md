# RSA는 왜 공개키부터 만들까? 


꽤나 의미 없는 의문일 수 있지만 갑자기 드는 의문에 굉장히 궁금해서 좀 알아보게 되었다.

​

나는 개인적으로 공개키와 개인키의 사이에서는

개인키를 먼저 구하고 공개키를 개인키에 맞춰 구하는 거라고 생각하고 있었으나

RSA의 키 생성 알고리즘을 보니 공개키 생성 후 개인키 생성하는 것을 많은 책이나 블로그에서 확인하였다.

    RSA 키 생성
    1. 큰 소수 p , q 생성
    2. n = p * q
    3. Φ(n) = (p - 1) * (q - 1) 
    4. 1 < e < Φ(n) 이며 Φ(n) 과 e 가 서로소인 e 생성 //공개키
    5. (e * d) mod Φ(n) = 1  //개인키

많은 곳에서 해당 RSA 키 알고리즘을 확인하였으나

수식에 대한 설명이 조금 다를 뿐 모두 공개키, 개인키 순으로 구하는 방식이었다.

​

이 의문에 대한 해답은 정확하지 않을 수 있으나 내가 이해한 정도만 작성하려고 한다.

​

먼저 위의 수식에서 구한 **e는 무조건 공개키, d는 무조건 개인키여야만 하는가?** 라는 생각에선

효율성을 따질 필요가 있었다.

암호화에서 공개키와 개인키 이 둘 중 더 많이 사용하는 키가 있을 것이고

많이 사용하는 키를 사용하는 알고리즘이 빨라야 결국 효율성이 증가한다고 볼 수 있을 것이다.

​

사실 내가 봤을 때 개인키보다는 공개키의 사용 횟수가 많을 것이라 생각이 들고

그렇다면 공개키는 개인키보다 작은 값이어야 할 것이다.

​

흔히 수식에 맞춰 공개키와 개인키가 어느 정도 매번 다른 값을 사용할 것 같지만

공개키는 대부분 공통된 값을 사용한다.

공통된 값은 대표적으로 3 과 65537 이 있을 수 있다.

​

이게 가능한 말일까? 수식에 맞춰서 생성해야 하는 공개키가 대부분 3과 65537을 사용한다니?

이 값은 메르센 소수라고 하며 RSA 키 생성 알고리즘의 4번식에 대해 Φ(n) 이 어떤 값이든 식에 통과하는 수이다.

​

여기서 3은 낮은 지수 공격을 회피하기 위해 사용하지 않고 대부분 65537을 공개키로 사용한다.

​

즉 RSA에서 e를 반드시 공개키로 해야 한다는 것은 아니다.

하지만 e를 개인키로 해서 얻는 이점은 없으며 e를 공개키로 했을 때는 이점이 생길 수 있기에

이렇게 하는구나라고 이해하게 되었다.